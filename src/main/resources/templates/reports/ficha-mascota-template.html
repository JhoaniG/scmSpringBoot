<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Ficha de la Mascota</title>
    <style>
        @page { size: A4; margin: 2cm; }
        body { font-family: 'Helvetica', sans-serif; color: #333; }
        .header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #0dcaf0; }
        .header h1 { color: #0056b3; margin: 0; }
        .profile-container { display: block; margin-bottom: 25px; }
        .profile-pic { float: left; width: 150px; height: 150px; border-radius: 50%; border: 3px solid #0dcaf0; margin-right: 20px; }
        .profile-info { overflow: hidden; }
        .profile-info p { margin: 8px 0; }
        .section { clear: both; margin-top: 30px; }
        .section h2 { color: #0056b3; border-bottom: 1px solid #ccc; padding-bottom: 5px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 11px; }
        th, td { border: 1px solid #dee2e6; padding: 6px; text-align: left; }
        th { background-color: #e9ecef; }
    </style>
</head>
<body>

<div class="header">
    <h1>Ficha de Identidad de la Mascota</h1>
</div>

<div class="profile-container">
    <div class="profile-info">
        <h2 th:text="${mascota.nombre}">Nombre Mascota</h2>
        <p><strong>Dueño/a:</strong> <span th:text="${mascota.nombreDueno}"></span></p>
        <p><strong>Raza:</strong> <span th:text="${mascota.raza}"></span></p>
        <p><strong>Género:</strong> <span th:text="${mascota.genero}"></span></p>
        <p><strong>Fecha de Nacimiento:</strong> <span th:text="${#temporals.format(mascota.fechaNacimiento, 'dd MMMM yyyy')}"></span></p>
    </div>
</div>

<div class="section">
    <h2>Últimas Citas Registradas</h2>
    <table th:if="${not #lists.isEmpty(citas)}">
        <thead><tr><th>Fecha</th><th>Motivo</th><th>Estado</th></tr></thead>
        <tbody>
        <tr th:each="cita, iter : ${citas}" th:if="${iter.index < 5}">
            <td th:text="${#temporals.format(cita.fechaCita, 'dd-MM-yyyy')}"></td>
            <td th:text="${cita.motivoCita}"></td>
            <td th:text="${cita.estadoCita}"></td>
        </tr>
        </tbody>
    </table>
    <p th:if="${#lists.isEmpty(citas)}">No hay citas registradas.</p>
</div>

</body>
</html>